<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>商品列表</title>
    <link rel="stylesheet" type="text/css" href="css/public.css">
    <style type="text/css">
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            background-color: #b4c8ed;
        }
        .col1 {
            text-indent: 40px;
        }
        .col2 {
            text-align: right;
        }
        .col3 {
            text-align: center;
        }
        .even-row {
            background-color: #ffffff;
        }
        .odd-row {
            background-color: #edf8ff;
        }
        .pagination {
            list-style-type: none;
            padding: 0;
            text-align: center;
        }
        .pagination li {
            display: inline;
            margin: 0 5px;
        }
        .pagination a {
            text-decoration: none;
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 3px;
        }
        .pagination .active a {
            background-color: #b4c8ed;
            color: white;
        }
    </style>
</head>
<body>
<jsp:include page="goods_header.jsp" flush="true">
    <jsp:param name="image" value="list.jpg" />
</jsp:include>
<hr />
<div class="text3" align="center">請從商品列表中選擇您喜愛的商品</div>
<br>
<table border="0" align="center">
    <tr>
        <th>商品名稱</th>
        <th width="15%">商品價格</th>
        <th width="20%">添加到購物車</th>
    </tr>
    <c:forEach var="goods" items="${goodsList}" varStatus="status">
        <tr class="${status.index % 2 == 0 ? 'even-row' : 'odd-row'}">
            <td class="col1"><a href="controller?action=detail&id=${goods.id}">${goods.description}</a></td>
            <td class="col2">￥${goods.price}</td>
            <td class="col3"><a href="controller?action=add&pagename=list&id=${goods.id}&name=${goods.name}&price=${goods.price}">添加到購物車</a></td>
        </tr>
    </c:forEach>
</table>
<hr />
<div align="center">
    <ul class="pagination">
        <li><a href="controller?action=paging&page=prev">«</a></li>
        <c:forEach var="page" begin="1" end="${totalPageNumber}">
            <li class="${page == currentPage ? 'active' : ''}">
                <a href="controller?action=paging&page=${page}">${page}</a>
            </li>
        </c:forEach>
        <li><a href="controller?action=paging&page=next">»</a></li>
    </ul>
</div>
<%@ include file="footer.jsp" %>
</body>
</html>